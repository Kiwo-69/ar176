<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Карточка Crocs</title>
<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
<style>
  :root {
    --bg: #f0f0f0;
    --text: #222;
    --subtext: #333;
    --price: #d50000;
    --btn-bg: #0066cc;
    --btn-bg-hover: #004999;
    --card-bg: #ffffff;
    --footer-bg: #222;
    --footer-text: white;
    --accent-pink: #ffe4ec;
    --btn-gradient: linear-gradient(135deg, #ff9eb3, #ffd6d6);
  }
  .dark {
    --bg: #121212;
    --text: #f5f5f5;
    --subtext: #dddddd;
    --price: #ff8a80;
    --btn-bg: #3333aa;
    --btn-bg-hover: #222288;
    --card-bg: #222;
    --footer-bg: #111;
    --footer-text: #eee;
    --btn-gradient: linear-gradient(135deg, #4444cc, #222288);
  }
  * {
    margin: 0; padding: 0; box-sizing: border-box; transition: all 0.3s ease;
  }
  body {
    font-family: 'Inter', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    overflow-x: hidden;
    position: relative;
  }
  body::before {
    content: '';
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: radial-gradient(circle at top right, #d6e4ff, transparent 70%), radial-gradient(circle at bottom left, #ffd6d6, transparent 70%);
    z-index: -1;
    opacity: 0.5;
    pointer-events: none;
  }
  header {
    background: #222;
    color: white;
    padding: 15px 30px;
    font-size: 18px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: fixed;
    top: 0; width: 100%;
    z-index: 1000;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
  }
  .header-left {
    font-weight: bold;
    font-size: 20px;
  }
  .header-right {
    display: flex;
    gap: 10px;
  }
  .theme-btn {
    background: #444;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 8px 14px;
    cursor: pointer;
  }
  body.dark .theme-btn {
    background: #3333aa;
    color: #eee;
  }
  body.dark .theme-btn:hover {
    background: #222288;
  }
  main {
    padding: 100px 20px 40px;
    display: flex;
    flex-direction: column;
    gap: 30px;
    flex: 1;
  }
  .container {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    justify-content: center;
  }
  .left, .right {
    flex: 1 1 360px;
    min-width: 280px;
  }
  .left {
    background: var(--card-bg);
    border-radius: 12px;
    padding: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
  }
  .circle-img {
    width: 150px;
    height: 150px;
    border-radius: 50%;
  }
  .right {
    background: var(--card-bg);
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
    gap: 16px;
  }
  h2 {
    font-size: 26px;
    margin-bottom: 5px;
  }
  p {
    font-size: 16px;
    color: var(--subtext);
  }
  .price {
    font-size: 20px;
    color: var(--price);
  }
  #toggle-model {
    background: var(--btn-gradient);
    color: #222;
    font-weight: 600;
    border: none;
    padding: 12px 24px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
    box-shadow: 0 4px 10px rgba(255, 158, 179, 0.4);
    transition: transform 0.2s ease, background 0.3s ease, color 0.3s ease;
    align-self: start;
  }
  body.dark #toggle-model {
    background: linear-gradient(135deg, #4444cc, #222288);
    color: white;
    box-shadow: 0 4px 10px rgba(100, 100, 255, 0.3);
  }
  #toggle-model:hover {
    transform: scale(1.03);
    background: linear-gradient(135deg, #ffb0c6, #ffe6e6);
    color: #222;
  }
  body.dark #toggle-model:hover {
    background: linear-gradient(135deg, #5555dd, #333399);
    color: white;
  }
  #model-container {
    display: block;
    animation: modelIn 1s ease-in-out;
    margin-top: 15px;
  }
  model-viewer {
    width: 100%;
    height: 420px;
    border-radius: 10px;
    border: 1px solid #ccc;
    background-color: var(--card-bg);
    animation: rotateModel 5s ease-in-out infinite alternate;
    display: block;
  }

  /* Фиксированные кнопки вперёд-назад по углам экрана */
  #prev-model, #next-model {
    position: fixed;
    top: 20px;
    padding: 14px 22px;
    font-size: 16px;
    font-weight: 600;
    border-radius: 8px;
    cursor: pointer;
    border: none;
    box-shadow: 0 4px 10px rgba(255, 158, 179, 0.4);
    transition: transform 0.2s ease, background 0.3s ease, color 0.3s ease;
    background: var(--btn-gradient);
    color: #222;
    z-index: 1100;
    user-select: none;
  }
  #prev-model {
    left: 20px;
  }
  #next-model {
    right: 20px;
  }
  body.dark #prev-model,
  body.dark #next-model {
    background: linear-gradient(135deg, #4444cc, #222288);
    color: white;
    box-shadow: 0 4px 10px rgba(100, 100, 255, 0.3);
  }
  #prev-model:hover,
  #next-model:hover {
    transform: scale(1.1);
    background: linear-gradient(135deg, #ffb0c6, #ffe6e6);
    color: #222;
    box-shadow: 0 6px 12px rgba(255, 150, 180, 0.7);
  }
  body.dark #prev-model:hover,
  body.dark #next-model:hover {
    background: linear-gradient(135deg, #5555dd, #333399);
    color: white;
    box-shadow: 0 6px 12px rgba(120, 120, 255, 0.7);
  }
  footer {
    background: var(--footer-bg);
    color: var(--footer-text);
    padding: 18px 30px;
    font-size: 14px;
  }
  footer h3 {
    margin-bottom: 10px;
    font-size: 16px;
  }
  footer p {
    margin: 4px 0;
  }
  .bg-fix {
    height: 0;
    background: var(--footer-bg);
  }
  @keyframes modelIn {
    from {
      opacity: 0;
      transform: scale(0.95) rotateX(10deg);
    }
    to {
      opacity: 1;
      transform: scale(1) rotateX(0deg);
    }
  }
  @keyframes rotateModel {
    from {
      transform: rotateY(0deg);
    }
    to {
      transform: rotateY(10deg);
    }
  }
  @media (max-width: 600px) {
    header {
      flex-direction: column;
      gap: 10px;
      align-items: flex-start;
    }
    .container {
      flex-direction: column;
      align-items: center;
    }
    .right, .left {
      width: 100% !important;
    }
    #prev-model, #next-model {
      top: 10px;
      padding: 10px 16px;
      font-size: 14px;
    }
  }
</style>
</head>
<body>
<header>
  <div class="header-left">AR176-AR-Preview</div>
  <div class="header-right">
    <button class="theme-btn" onclick="toggleTheme()">Сменить тему</button>
    <button class="theme-btn">Контакты</button>
  </div>
</header>

<!-- Кнопки вперед-назад по углам экрана -->
<button id="prev-model">← Назад</button>
<button id="next-model">Вперед →</button>

<main>
  <div class="container">
    <div class="left">
      <img id="left-image" class="circle-img" src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e4/Red_Dot.svg/120px-Red_Dot.svg.png" alt="Цветной кружок" />
    </div>

    <div class="right">
      <h2 id="model-title">Стол раскладной туристический</h2>
      <p><b>Цвет:</b> Белый</p>
      <p><b>Цена:</b> <span class="price" id="price">5800 руб.</span> <small>(-25%)</small></p>
      <p id="description"><b>Описание:</b> Лёгкий, компактный и удобный в транспортировке. Идеально подходит для пикников, дачи и кемпинга.</p>
      <p><b>Материалы:</b> Прочный алюминий, влагостойкая столешница.</p>
      <p><b>Размер:</b> 120×60×70 см в разложенном виде.</p>
      <p><b>Особенности:</b> Быстро складывается, регулируемые ножки, чехол в комплекте.</p>

      <button id="toggle-model">Скрыть 3D-просмотр</button>

      <div id="model-container" style="margin-top: 15px;">
        <model-viewer
          id="viewer"
          src="https://storage.yandexcloud.net/4242/folding_table.glb"
          ios-src="https://storage.yandexcloud.net/4242/Folding_Table.usdz"
          alt="Стол раскладной туристический"
          auto-rotate
          camera-controls
          ar
          ar-modes="scene-viewer webxr quick-look"
          interaction-prompt="auto"
          style="width: 100%; height: 420px; border-radius: 10px; border: 1px solid #ccc; background-color: var(--card-bg);">
        </model-viewer>
      </div>
    </div>
  </div>
</main>

<footer>
  <h3>О нас</h3>
  <p>Команда AR176 — создаём AR-решения нового поколения.</p>
  <p><b>Тел:</b> +7 (913) 483-97-14 | <b>Телеграмм:</b>@hendov4ik</p>
  <p><b>Этот сайт демонстрирует возможность интеграции 3D и AR-моделей на сайт вашей компании, чтобы покупатели могли визуально оценить, как ваша продукция впишется в их интерьер. Мы можем создать и разместить на вашем сайте любое количество моделей.</b></p>
</footer>

<div class="bg-fix"></div>

<a id="ios-ar-link" rel="ar"></a>

<script>
  const toggleBtn = document.getElementById("toggle-model");
  const modelContainer = document.getElementById("model-container");
  const viewer = document.getElementById("viewer");
  const modelTitle = document.getElementById("model-title");
  const leftImage = document.getElementById("left-image");
  const description = document.getElementById("description");
  const priceElem = document.getElementById("price");

  // Массив моделей с круглыми картинками, описаниями и ценами
  const models = [
    {
      src: "https://storage.yandexcloud.net/4242/folding_table.glb",
      iosSrc: "https://storage.yandexcloud.net/4242/Folding_Table.usdz",
      alt: "Стол раскладной туристический",
      title: "Стол раскладной туристический",
      leftImg: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e4/Red_Dot.svg/120px-Red_Dot.svg.png",
      description: "<b>Описание:</b> Лёгкий, компактный и удобный в транспортировке. Идеально подходит для пикников, дачи и кемпинга.",
      price: 5800,
      color: "Белый",
      materials: "Прочный алюминий, влагостойкая столешница.",
      size: "120×60×70 см в разложенном виде.",
      features: "Быстро складывается, регулируемые ножки, чехол в комплекте."
    },
    {
      src: "https://storage.yandexcloud.net/4242/office_chair.glb",
      iosSrc: "https://storage.yandexcloud.net/4242/Office_Chair.usdz",
      alt: "Офисное кресло",
      title: "Офисное кресло",
      leftImg: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Blue_Dot.svg/120px-Blue_Dot.svg.png",
      description: "<b>Описание:</b> Удобное кресло для длительной работы за компьютером. Эргономичный дизайн снижает нагрузку на спину.",
      price: 7600,
      color: "Чёрный",
      materials: "Кожаная обивка, металлический каркас.",
      size: "Высота 110 см, ширина 60 см.",
      features: "Регулировка высоты, подлокотники, вращающийся механизм."
    },
    {
      src: "https://storage.yandexcloud.net/4242/chesterfield-sofa.glb",
      iosSrc: "https://storage.yandexcloud.net/4242/chesterfield-sofa.usdz",
      alt: "Диван Chesterfield",
      title: "Диван Chesterfield",
      leftImg: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Green_Dot.svg/120px-Green_Dot.svg.png",
      description: "<b>Описание:</b> Роскошный диван в классическом стиле. Идеально подходит для гостиной или кабинета.",
      price: 15200,
      color: "Коричневый",
      materials: "Натуральная кожа, массив дерева.",
      size: "200×90×80 см.",
      features: "Классические пуговицы, глубокая посадка, крепкая конструкция."
    }
  ];

  let currentIndex = 0;

  function updateModel(index) {
    const model = models[index];
    viewer.setAttribute("src", model.src);
    viewer.setAttribute("ios-src", model.iosSrc);
    viewer.setAttribute("alt", model.alt);
    modelTitle.textContent = model.title;
    leftImage.src = model.leftImg;
    leftImage.alt = model.alt;
    description.innerHTML = model.description;
    priceElem.textContent = model.price.toLocaleString('ru-RU') + " руб.";
    // Обновим остальные данные
    document.querySelector(".right p:nth-child(3)").innerHTML = `<b>Цвет:</b> ${model.color}`;
    document.querySelector(".right p:nth-child(5)").innerHTML = `<b>Материалы:</b> ${model.materials}`;
    document.querySelector(".right p:nth-child(6)").innerHTML = `<b>Размер:</b> ${model.size}`;
    document.querySelector(".right p:nth-child(7)").innerHTML = `<b>Особенности:</b> ${model.features}`;
  }

   // Навигация вперед (справа)
  document.getElementById("next-model").addEventListener("click", () => {
    currentIndex = (currentIndex + 1) % models.length;
    updateModel(currentIndex);
  });

  // Навигация назад (слева)
  document.getElementById("prev-model").addEventListener("click", () => {
    currentIndex = (currentIndex - 1 + models.length) % models.length;
    updateModel(currentIndex);
  });

  // Переключение показа 3D модели
  toggleBtn.addEventListener("click", () => {
    const visible = modelContainer.style.display === "block";
    modelContainer.style.display = visible ? "none" : "block";
    toggleBtn.textContent = visible ? "Включить 3D-просмотр" : "Скрыть 3D-просмотр";
  });

  // Функции для темы
  function setTheme(theme) {
    if (theme === "dark") {
      document.body.classList.add("dark");
    } else {
      document.body.classList.remove("dark");
    }
    localStorage.setItem("theme", theme);
  }

  function toggleTheme() {
    if (document.body.classList.contains("dark")) {
      setTheme("light");
    } else {
      setTheme("dark");
    }
  }

  // Установка темы и начальной модели при загрузке
  (function() {
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme) {
      setTheme(savedTheme);
    } else {
      setTheme("dark");
    }
    updateModel(currentIndex);
  })();
